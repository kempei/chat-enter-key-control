# 要件定義書

## はじめに

ポップアップUIに表示される現在のタブのURLが長い場合、すべてが表示されて見づらくなる問題を解決します。最初の100文字を表示し、残りは省略記号（...）で省略し、ユーザーがクリックすることで全体を展開できる機能を追加します。

## 用語集

- **ポップアップUI**: Chrome拡張機能のアイコンをクリックしたときに表示されるインターフェース
- **URL表示領域**: ポップアップUI内で現在のタブのURLを表示する要素（`.current-url`）
- **展開ボタン**: 省略されたURLを全体表示するためのインタラクティブ要素
- **省略状態**: URLの最初の100文字のみを表示し、残りを「...」で省略した状態
- **展開状態**: URLの全体を表示している状態

## 要件

### 要件 1

**ユーザーストーリー:** ユーザーとして、長いURLが表示されたときに見やすい形式で表示されることを望みます。そうすることで、ポップアップUIが読みやすくなります。

#### 受入基準

1. WHEN URLの長さが100文字以下の場合 THEN システムはURLを全体表示し、省略記号を表示しない
2. WHEN URLの長さが100文字を超える場合 THEN システムは最初の100文字を表示し、その後に「...」を追加する
3. WHEN URLが省略状態で表示されている場合 THEN システムは展開可能であることを視覚的に示す
4. WHEN URLの長さが100文字を超える場合 THEN システムは省略状態をデフォルトとして表示する
5. WHEN URLが変更された場合 THEN システムは表示状態を省略状態にリセットする

### 要件 2

**ユーザーストーリー:** ユーザーとして、省略されたURLをクリックして全体を表示したいです。そうすることで、必要なときに完全なURLを確認できます。

#### 受入基準

1. WHEN ユーザーが省略状態のURL表示領域をクリックした場合 THEN システムはURLの全体を表示する
2. WHEN ユーザーが展開状態のURL表示領域をクリックした場合 THEN システムはURLを省略状態に戻す
3. WHEN URL表示領域がクリック可能な場合 THEN システムはカーソルをポインターに変更する
4. WHEN URL表示領域の状態が変化した場合 THEN システムは滑らかなトランジションアニメーションを適用する

### 要件 3

**ユーザーストーリー:** ユーザーとして、URL表示領域の状態を視覚的に理解したいです。そうすることで、展開可能かどうかを直感的に判断できます。

#### 受入基準

1. WHEN URLが省略状態の場合 THEN システムは展開可能であることを示すアイコンまたはテキストを表示する
2. WHEN URLが展開状態の場合 THEN システムは折りたたみ可能であることを示すアイコンまたはテキストを表示する
3. WHEN URLが100文字以下の場合 THEN システムは展開/折りたたみのインジケーターを表示しない
4. WHEN ユーザーがURL表示領域にホバーした場合 THEN システムは視覚的なフィードバックを提供する
